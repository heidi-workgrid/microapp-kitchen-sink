{"version":3,"sources":["pages/Summary.js","pages/Detail.js","App.js","index.js"],"names":["Summary","_useState","useState","_useState2","Object","slicedToArray","token","setToken","microapp","useRef","MicroApp","id","audience","useEffect","console","log","current","initialize","substr","length","requestToken","_ref","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","t0","getToken","t1","sent","stop","apply","this","arguments","react_default","createElement","className","onClick","randomTitles","updateTitle","Math","floor","random","showDetail","url","concat","window","location","origin","pathname","title","Detail","htmlFor","type","placeholder","name","hideDetail","App","react_router_dom","basename","react_router","path","exact","component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.2796a3b2.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from 'react'\nimport MicroApp from '@workgrid/micro-app'\n\nconst Summary = () => {\n  const [token, setToken] = useState()\n\n  const microapp = useRef(\n    new MicroApp({\n      id: 'example-microapp',\n      audience: 'example-microapp'\n    })\n  )\n\n  useEffect(() => {\n    console.log('Initializing app')\n    microapp.current.initialize()\n  }, [])\n\n  useEffect(() => {\n    console.log('Token has changed ', token ? token.substr(token.length - 10, 10) : 'No Token')\n  }, [token])\n\n  const showDetail = () => {\n    // We have to use the hash router to show detail due to Github pages limitations\n    console.log('Showing Detail')\n    microapp.current.showDetail({\n      url: `${window.location.origin}${window.location.pathname}#/detail`,\n      title: 'Microapp Title'\n    })\n  }\n\n  const requestToken = async () => {\n    console.log('Requesting Token')\n    setToken('')\n    setToken(await microapp.current.getToken())\n  }\n\n  const changeTitle = () => {\n    console.log('Changing Title')\n    const randomTitles = ['Altered Title', 'Awesome Title', 'Another Title']\n    microapp.current.updateTitle(randomTitles[Math.floor(Math.random() * randomTitles.length)])\n  }\n\n  return (\n    <div>\n      <h1>Workgrid Microapp</h1>\n      <p>This is the summary microapp, here are the actions you can perform in summary:</p>\n      <p>{token ? 'Token: ' + token.substr(token.length - 10, 10) : 'No Token'}</p>\n      <div className=\"action-block vertical\">\n        <button className=\"secondary\" onClick={changeTitle}>\n          Change Title\n        </button>\n        <button className=\"secondary\" onClick={requestToken}>\n          Request Token\n        </button>\n        <button className=\"primary\" onClick={showDetail}>\n          Show Detail\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Summary\n","import React, { useRef, useEffect } from 'react'\nimport MicroApp from '@workgrid/micro-app'\nimport './detail.css'\n\nconst Detail = () => {\n  const microapp = useRef(\n    new MicroApp({\n      id: 'example-microapp',\n      audience: 'example-microapp'\n    })\n  )\n\n  useEffect(() => {\n    microapp.current.initialize()\n  }, [])\n\n  const hideDetail = () => {\n    microapp.current.hideDetail()\n  }\n\n  const requestToken = async () => {\n    await microapp.current.getToken()\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Workgrid Microapp</h1>\n      <p>\n        This is the detail panel of a microapp. Remember the summary and detail are independent, think of them as two\n        individual tabs in your browser.\n      </p>\n      <div className=\"example-block\">\n        <label htmlFor=\"example\">Example Input:</label>\n        <input type=\"text\" placeholder=\"Example input\" name=\"example\" />\n      </div>\n      <div className=\"action-block\">\n        <button className=\"secondary\" onClick={hideDetail}>\n          Hide Detail\n        </button>\n        <button className=\"primary\" onClick={requestToken}>\n          Request Token\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default Detail\n","import React from 'react'\nimport { HashRouter as Router, Route } from 'react-router-dom'\n\nimport Summary from './pages/Summary'\nimport Detail from './pages/Detail'\n\nconst App = () => {\n  return (\n    <Router basename={window.location.pathname}>\n      <Route path=\"/\" exact component={Summary} />\n      <Route path=\"/detail\" component={Detail} />\n    </Router>\n  )\n}\n\nexport default App\n","import 'core-js/stable'\nimport 'regenerator-runtime/runtime'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}